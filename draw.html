<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NextEFB</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
</head>
<body>
<div id="map">
    <textarea  id="txt"></textarea>
    <div id="err"></div>
</div>

<a href="index.html" target="_self">
    <button class="home_button" type="button" ></button>
</a>

<script>
    var textarea = document.getElementById("txt");
    textarea.addEventListener('input', writeLocalStorage);

    function writeLocalStorage() {
        if (typeof(Storage) !== "undefined") {
            localStorage.setItem("text", textarea.value);
        } else {
            document.getElementById("err").innerHTML = "Localstorage not supported";
        }
    }

    function readLocalStorage() {
        if (typeof(Storage) !== "undefined") {
            textarea.value = localStorage.getItem("text");
        } else {
            document.getElementById("err").innerHTML = "Localstorage not supported";
        }
    }

    // `DOMContentLoaded` may fire before your script has a chance to run, so check before adding a listener
    if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", readLocalStorage);
    } else {  // `DOMContentLoaded` already fired
        readLocalStorage();
    }
</script>

</body>
</html>